<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Alfabeto Modular</title>
    <!-- Viewport optimizado para evitar zoom accidental en inputs y mejorar respuesta -->
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="css/style.css?v=3">
    <!-- Meta Theme Color for Mobile Browsers (Start with Dark Mode) -->
    <meta name="theme-color" content="#0B0C15">
  </head>
  <body>
    <!-- Floating Controls -->
    <!-- Theme Toggle (Top Left) -->
    <button id="themeButton" title="Cambiar tema" aria-label="Cambiar tema oscuro/claro" onclick="toggleGlobalTheme()">‚òæ</button>
    
    <h1 id="animated-title">ALFABETO&nbsp;MODULAR</h1>

    <div id="nav-container">
      <button class="nav-tab active" data-mode="home">INICIO</button>
      <button class="nav-tab" data-mode="generator">GENERADOR</button>
      <button class="nav-tab" data-mode="game">JUEGO 3D</button>
    </div>

    <div id="canvas-wrapper">
      <div id="canvas-container"></div>
    </div>

    <!-- UI Container para Home / Intro -->
    <div id="home-ui-container" class="mode-ui" data-mode="home">
      <div class="legend-overlay" id="legendOverlay">
        <h2 onclick="toggleGuide()">GU√çA DE C√ìDIGOS</h2>
        
        <div id="guide-content" class="guide-content collapsed">
            <!-- Nueva √°rea de previsualizaci√≥n visual -->
            <div id="char-preview-panel">
              <div class="preview-left">
                <div class="preview-visual-host" id="previewVisual"></div>
                <span class="preview-char" id="previewText"></span>
              </div>
              <span class="preview-info" id="previewDesc">Toca un s√≠mbolo</span>
            </div>

            <div id="alphabet-grid">
              <!-- Se rellenar√° din√°micamente con JS -->
              <div class="alpha-placeholder">Generando gu√≠a...</div>
            </div>
        </div>
      </div>
    </div>

    <!-- UI Container espec√≠fico para el Generador -->
    <div id="ui-container" class="mode-ui" data-mode="generator">
      <input id="textInput" type="text" placeholder="Escribe tu frase..." />
      <button id="generateButton">GENERAR</button>
      <button id="saveButton">GUARDAR</button>
      <!-- Integrated Utility Group (Color + Theme will be here) -->
      <div class="util-group" id="gen-util-group">
        <button class="color-toggle-btn icon-btn" title="Pistas de color" onclick="toggleColorHints()">üé®</button>
      </div>
    </div>

    <!-- UI Placeholder para el Juego -->
    <div id="game-ui-container" class="mode-ui" data-mode="game">
      <div class="game-hud">
        
        <!-- 1. Target Area (Center Stage) -->
        <div class="target-wrapper">
            <div class="target-display">
              <span class="label">TRADUCE:</span>
              <h2 id="targetWordDisplay">Cargando...</h2>
            </div>
            
            <button class="color-toggle-btn icon-btn mini-toggle" title="Ver pistas" onclick="toggleColorHints()">üé®</button>
        </div>
        
        <!-- 2. Professional Stats Dashboard (Below) -->
        <div class="stats-row">
            <div class="stat-pill score">
                <span class="stat-label">PUNTOS</span>
                <span id="scoreVal" class="stat-value">0</span>
            </div>
            <!-- Feedback doubles as Status/Level indicator -->
            <div id="feedbackDisplay" class="stat-pill feedback">LISTO</div>
        </div>

        <!-- 3. Instructions (Bottom Context) -->
        <div class="instructions">Busca y haz clic en la letra modular correcta</div>

      </div>
    </div>


    <footer>
      Hecho con p5.js ‚Ä¢ Proyecto experimental ‚Ä¢ Manuel&nbsp;Ca√±as&nbsp;Vidaller
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js"></script>
    <script src="js/modes/shared.js"></script>
    <script src="js/header-animation.js?v=2"></script>
    <script src="js/modes/home.js"></script>
    <script src="js/modes/generator.js"></script>
    <script src="js/modes/game.js"></script>

    <!-- Main Logic -->
    <script src="js/app.js"></script>
  </body>
</html>
